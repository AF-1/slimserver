<?xml version="1.0" encoding="[% LOCALE %]" standalone="no"?>

<!DOCTYPE status SYSTEM "html/slimserver_xml.dtd">

<status xmlns="http://www.slimdevices.com/slimserver/xml">
	<players>
		<playercount>[% playercount | html %]</playercount>
		<player>
			<is_described/>
			<player_id>[% player %]</player_id>
			[% IF player_name %]<player_name>[% player_name | html %]</player_name>[% END %]
		</player>
		[% IF player_chooser_list %]
		[% player_chooser_list %]
		[% END %]
	</players>
	<player_status>
		<transport>
			<mode>[% mode | html %]</mode>
			<playmode>[% IF modeplay %]playing[% END %][% IF modepause %]paused[% END %][% IF modestop %]stopped[% END %]</playmode>
    		[% IF modeplay %]<playing/>[% END %]
    		[% IF modepause %]<paused/>[% END %]
    		[% IF modestop %]<stopped/>[% END %]
    		[% IF currentsong %]
				[% IF not modeplay %]<play_url><![CDATA[xml/status.xml?p0=play&player=[% player | uri %]]]></play_url>[% END %]
				[% IF not modepause %]<pause_url><![CDATA[xml/status.xml?p0=pause&player=[% player | uri %]]]></pause_url>[% END %]
				[% IF not modestop %]<stop_url><![CDATA[xml/status.xml?p0=stop&player=[% player | uri %]]]></stop_url>[% END %]
				<play_prev_url><![CDATA[xml/status.xml?p0=playlist&p1=jump&p2=-1&player=[% player | uri %]]]></play_prev_url>
				<play_next_url><![CDATA[xml/status.xml?p0=playlist&p1=jump&p2=1&player=[% player | uri %]]]></play_next_url>
    		[% END %]
 			[% IF rate && currentsong %]<rate>[% rate | html %]</rate>[% END %]
 			[% IF rateval && currentsong %]<rateval>[% rateval | html %]</rateval>[% END %]
			<rate_url><![CDATA[xml/status.xml?p0=rate&p1=___LEVEL___&player=[% player | uri %]]]></rate_url>
 			[% IF sleeptime %]<sleeptime>[% sleeptime | html %]</sleeptime>[% END %]
 			[% IF sleep %]<sleep>[% sleep | html %]</sleep>[% END %]
 		</transport>
		<shuffle>
			[% IF shuffleoff %]<shuffle_off/>[% END %]
    		[% IF shuffleon %]<shuffle_songs/>[% END %]
			[% IF shufflealbum %]<shuffle_albums/>[% END %]
    		[% IF not shuffleoff %]<shuffle_off_url><![CDATA[xml/status.xml?p0=playlist&p1=shuffle&p2=0&player=[% player | uri %]]]></shuffle_off_url>[% END %]
    		[% IF not shufflealbum %]<shuffle_albums_url><![CDATA[xml/status.xml?p0=playlist&p1=shuffle&p2=2&player=[% player | uri %]]]></shuffle_albums_url>[% END %]
    		[% IF not shuffleon %]<shuffle_songs_url><![CDATA[xml/status.xml?p0=playlist&p1=shuffle&p2=1&player=[% player | uri %]]]></shuffle_songs_url>[% END %]
    	</shuffle>
		<repeat>
			[% IF repeatone %]<repeat_one/>[% END %]
			[% IF repeatall %]<repeat_all/>[% END %]
			[% IF repeatoff %]<repeat_off/>[% END %]
			[% IF not repeatone %]<repeat_one_url><![CDATA[xml/status.xml?p0=playlist&p1=repeat&p2=1&player=[% player | uri %]]]></repeat_one_url>[% END %]
			[% IF not repeatall %]<repeat_all_url><![CDATA[xml/status.xml?p0=playlist&p1=repeat&p2=2&player=[% player | uri %]]]></repeat_all_url>[% END %]
			[% IF not repeatoff %]<repeat_off_url><![CDATA[xml/status.xml?p0=playlist&p1=repeat&p2=0&player=[% player | uri %]]]></repeat_off_url>[% END %]
		</repeat>
		<audio>
		    <volume>[% volume | html %]</volume>
    		<volume_url><![CDATA[xml/status.xml?p0=mixer&p1=volume&p2=___LEVEL___&player=[% player | uri %]]]></volume_url>
    		<bass>[% bass | html %]</bass>
    		<bass_url><![CDATA[xml/status.xml?p0=mixer&p1=bass&p2=___LEVEL___&player=[% player | uri %]]]></bass_url>
			<treble>[% treble | html %]</treble>
			<treble_url><![CDATA[xml/status.xml?p0=mixer&p1=treble&p2=___LEVEL___&player=[% player | uri %]]]></treble_url>
		</audio>

		[% IF currentsong %]
			<current_song>
				<playlist_offset>[% thissongnum %]</playlist_offset>
				<playlist_length>[% songcount %]</playlist_length>
				<remove_url><![CDATA[xml/status.xml?p0=playlist&p1=delete&p2=[% thissongnum %]&player=[% player | uri %]]]></remove_url>
				<seconds_elapsed>[% songtime | html %]</seconds_elapsed>
				<seconds_total>[% durationseconds | html %]</seconds_total>
		[% END %]
			[% IF title %]<song>[% END %]
				[% PROCESS _xml_song.html %]
			[% IF title %]</song>[% END %]
		[% IF currentsong %]
			</current_song>
		[% END %]
	</player_status>
	[% IF playlist %]
	   	[% playlist %]
	[% END %]
</status>
