[% PROCESS settings/header.html %]

[% IF prefs %]
	[% WRAPPER setting title="SETUP_PLAYERNAME" desc="SETUP_PLAYERNAME_DESC" %]
		<input type="text" class="stdedit" name="pref_playername" id="playername" value="[% prefs.pref_playername %]" size="20">
	[% END %]


	[% IF prefs.pref_titleFormat; WRAPPER setting title="SETUP_TITLEFORMAT" desc="SETUP_GROUP_TITLEFORMATS_DESC" %]
		[% FOREACH format = prefs.pref_titleFormat %]
			<div>
				<input type=radio [% IF prefs.pref_titleFormatCurr == loop.index %]checked [% END %]value="[% loop.index %]" name="pref_titleFormatCurr" class="stdedit">
				<select class="stdedit" name="pref_titleFormat[% loop.index %]" id="titleFormat[% loop.index %]">
					[% num = loop.index %][% last = loop.max %]
					[% FOREACH option = titleFormatOptions.keys.sort %]
						<option [% IF prefs.pref_titleFormat.$num == option %]selected [% ELSIF num == last && option == '-1' %]selected [% END %]value="[% option %]">[% titleFormatOptions.$option %]</option>
					[%- END -%]
				</select>
			</div>
		[% END %]
	[% END; END %]
	
	[% IF prefs.exists('pref_playingDisplayModes') %]
		[% WRAPPER setting title="SETUP_PLAYINGDISPLAYMODE" desc="SETUP_PLAYINGDISPLAYMODE_DESC" %]
			[% FOREACH format = prefs.pref_playingDisplayModes %]
				<div>
					<input type=radio [% IF prefs.pref_playingDisplayMode == loop.index %]checked [% END %]value="[% loop.index %]" name="pref_playingDisplayMode" class="stdedit">
					<select class="stdedit" name="pref_playingDisplayModes[% loop.index %]" id="playingDisplayModes[% loop.index %]">
						[% num = loop.index %][% last = loop.max %]
						[% FOREACH option = playingDisplayOptions.keys.nsort %]
							<option [% IF prefs.pref_playingDisplayModes.$num == option %]selected [% ELSIF num == last && option == '-1' %]selected [% END %]value="[% option %]">[% playingDisplayOptions.$option %]</option>
						[%- END -%]
					</select>
				</div>
			[% END %]
		[% END %]
	[% END %]

	[% IF prefs.exists('pref_visualModes') %]
		[% WRAPPER setting title="SETUP_VISUALIZERMODE" desc="SETUP_VISUALIZERMODE_DESC" %]
			[% FOREACH format = prefs.pref_visualModes %]
				<div>
					<input type=radio [% IF prefs.pref_visualMode == loop.index %]checked [% END %]value="[% loop.index %]" name="pref_visualMode" class="stdedit">
					<select class="stdedit" name="pref_visualModes[% loop.index %]" id="visualModes[% loop.index %]">
						[% num = loop.index %][% last = loop.max %]
						[% FOREACH option = visualModeOptions.keys.nsort %]
							<option [% IF prefs.pref_visualModes.$num == option %]selected [% ELSIF num == last && option == '-1' %]selected [% END %]value="[% option %]">[% visualModeOptions.$option %]</option>
						[%- END -%]
					</select>
				</div>
			[% END %]
		[% END %]
	[% END %]

	[% IF prefs.exists('pref_screensaver') %]

		[% WRAPPER settingSection %]
			[% desc="SETUP_SCREENSAVER_DESC" %]

			[% FOREACH saver = [ 'screensaver', 'idlesaver', 'offsaver' ] %]
				[% WRAPPER settingGroup title="SETUP_" _ saver %]
					<select class="stdedit" name="pref_[% saver %]" id="[% saver %]">
						[% FOREACH option = screensavers %]
							<option [% IF prefs.${"pref_$saver"} == option.key %]selected [% END %]value="[% option.key %]">[% option.value | string %]</option>
						[%- END -%]
					</select>		
				[% END %]
				[% desc = '' %]
			[% END %]

			[% WRAPPER settingGroup title="SETUP_SCREENSAVERTIMEOUT" desc="" %]
				<input type="text" class="stdedit" name="pref_screensavertimeout" id="screensavertimeout" value="[% prefs.pref_screensavertimeout %]" size="15">
			[% END %]
		[% END %]
	[% END %]

	[% IF prefs.exists('pref_playtrackalbum') %]
		[% WRAPPER setting title="SETUP_PLAYTRACKALBUM" desc="SETUP_PLAYTRACKALBUM_DESC" %]
			<select class="stdedit" name="pref_playtrackalbum" id="playtrackalbum">
				<option [% IF NOT prefs.pref_playtrackalbum %]selected [% END %]value="0">[% 'SETUP_PLAYTRACKALBUM_0' | string %]</option>
				<option [% IF prefs.pref_playtrackalbum %]selected [% END %]value="1">[% 'SETUP_PLAYTRACKALBUM_1' | string %]</option>
			</select>
		[% END %]
	[% END %]

	[% WRAPPER setting title="INFORMATION_MENU_PLAYER" desc="" %]
		[% IF ipaddress %]
			<p>[% "PLAYER_IP_ADDRESS" | string %] [% ipaddress %]</p>
		[% END %]
	
		[% IF macaddress %]
			<p>[% "PLAYER_MAC_ADDRESS" | string %] [% macaddress %]</p>
		[% END %] 

		[% IF version %]
			<p>[% "PLAYER_VERSION" | string %][% "COLON" | string %] [% version %]</p>
		[% END %] 

		[% IF signalstrength %]
			<p>[% "INFORMATION_PLAYER_SIGNAL_STRENGTH" | string %][% "COLON" | string %] [% signalstrength %]%</p>
		[% END %] 
	
		[% IF voltage %]
			<p>[% "INFORMATION_PLAYER_VOLTAGE" | string %][% "COLON" | string %] [% voltage %]VAC</p>
		[% END %] 
	[% END %]	

[% ELSE %]
	<div class="noPlayerPanel">
		[% PROCESS status_noclients.html ajaxUpdate=1 %]
	</div>
[% END %]

[% PROCESS settings/footer.html %]
