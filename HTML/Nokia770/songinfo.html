[%# Page songinfo.html %]
<!--songinfo.html-->
[% pagetitle = BLOCK %]
[%- playermodel | string %] : [% "SONG_INFO" | string -%]
[%- END -%]
[%- pageicon = 'MUSIC' -%]
[%- PROCESS pageheader.html -%]

<table width="100%" cellspacing="0" cellpadding="0" border = '0' bgcolor="#EEEEEE">
	<tr>
		<td width="20" align="left">&nbsp;</td>
		<td class="pagebartext">[% "SONG_INFO" | string %] [% "FOR" | string %] <b>[% itemobj.title %]</b></td>
	</tr>
</table>

<table bgcolor = 'white' width = '100%'>
	<tr>
		<td valign = 'top'>
		[% IF itemobj.coverArt('cover', 1) %]
		<a href="browsedb.html?hierarchy=track&level=0&album=[% itemobj.album.id %]&player=[% playerURI %]"><img src="/music/[% itemobj.id %]/cover.jpg" height="220" STYLE="border: 1px solid black"></a>
		[% END %]
		</td>

		<td valign = 'top'>
		<table width="100%" cellspacing="0" cellpadding="5" border="0">
			<tr>
				<td align="left" colspan = 2>
				<table width = '75'><tr>
					 [% PROCESS browsecontrols_abbr
					 itemobj = itemobj
					 attributes = attributes
					odd = odd
					 mixerlinks = mixerlinks %]
				</tr></table>
				</td>
			</tr>
			<tr>
				<td valign = 'top'>
				<table border = '0'>
				<tr>
					<td class = 'smallitemtext'>
					<nobr>[% "TITLE" | string %][% "COLON" | string %]</nobr>
					</td>
					<td class = 'smallitemtext'>
					[% itemobj.title %]
					</td>
				</tr>
				[% FOREACH role = itemobj.contributorRoles.sort %]
			
					[% contributors = itemobj.contributorsOfType(role) %]
					
					[% IF contributors %]
						<tr>
							<td class = 'smallitemtext'>[% role | upper | string; "COLON" | string %]</td>
							[% contributorsHTML = [] %]
			
							<td class = 'smallitemtext'>[% FOREACH contributor = contributors %]
			
								[% contributorHTMLFrag = "<a href=\"browsedb.html?hierarchy=contributor,album,track&amp;level=1&amp;contributor.id=$contributor.id&amp;player=$playerURI\" target=\"browser\">$contributor.name</a>" %]
			
								[% contributorsHTML.push(contributorHTMLFrag) %]
			
							[% END %]
			
							[% contributorsHTML.join(', ') %]</td>
						</tr>
					[% END %]
			
				[% END %]
				[% IF itemobj.album %]
				<tr>
					<td class = 'smallitemtext'>
					[% "ALBUM" | string %][% "COLON" | string %]
					 </td>
					<td class = 'smallitemtext'>
						<a href="browsedb.html?hierarchy=contributor,album,track&level=2&album.id=[% itemobj.album.id %]&player=[% playerURI %]" style="text-decoration:none">[% itemobj.album.title %]</a>
					</td>
				</tr>
				[% END %] 
				[% IF itemobj.genres %][% genresHTML = [] %]
				<tr>
					<td class = 'smallitemtext'>
					[% "GENRE" | string %][% "COLON" | string %]
					</td>
					<td class = 'smallitemtext'>
					[% FOREACH genre = itemobj.genres %]
						[% genreHTMLFrag = "<a href=\"browsedb.html?hierarchy=genre,contributor,album,track&amp;level=1&amp;genre.id=$genre.id&amp;player=$playerURI\" style=\"text-decoration:none\">$genre.name</a>" %]
						[% genresHTML.push(genreHTMLFrag) %]
					[% END %]
					[% genresHTML.join(', ') %]
					</td>
					[% END %]
				</tr>
			</table>
			</td>
			<td valign = 'top'>
			<table> 
			[% IF itemobj.tracknum %]
				<tr>
					<td class = 'smallitemtext'>
					[% "TRACK" | string %][% "COLON" | string %]
					</td>
					<td class = 'smallitemtext'>
					[% itemobj.tracknum %]
					</td>
				</tr>
				[% END %] [% IF itemobj.duration %]
				<tr>
					<td class = 'smallitemtext'>
					[% "LENGTH" | string %][% "COLON" | string %]
					</td>
					<td class = 'smallitemtext'>
					[% itemobj.duration %]
					</td>
				</tr>
				[% END %] [% IF itemobj.year %]
				<tr>
				<td class = 'smallitemtext'>
					[% "YEAR" | string %][% "COLON" | string %]
				</td>
				<td class = 'smallitemtext'>
					[% itemobj.year %]
				</td>
			</tr>
				[% END %] [% IF itemobj.replay_gain.defined %] 
				<tr> 
					<td class = 'smallitemtext'>[% "REPLAYGAIN" | string; "COLON" | string %]</td>
					<td class = 'smallitemtext'>[% itemobj.replay_gain | format('%2.2f') | html %] dB</td>
						</tr>
				[% END %] [% IF itemobj.album.replay_gain.defined %] 
				<tr> 
					<td class = 'smallitemtext'>[% "ALBUMREPLAYGAIN" | string; "COLON" | string %]</td>
					<td class = 'smallitemtext'>[% itemobj.album.replay_gain | format('%2.2f') | html %] dB</td>
				</tr>
			[% END %] [% IF comment %]
			<tr>
				<td class = 'smallitemtext'>
					[% "COMMENT" | string %][% "COLON" | string %]
				</td>
				<td class = 'smallitemtext'>
					[% comment %]
				</td>
			</tr>
			[% END %] [% IF itemobj.lyrics %]
			<tr>
				<td class = 'smallitemtext'>
					[% "LYRICS" | string %][% "COLON" | string %]
				</td>
				<td class = 'smallitemtext'>
					[% itemobj.lyrics | html_line_break | html_para %]
				</td>
			</tr>
			[% END %] [% IF filelength %]
			<tr>
				<td class = 'smallitemtext'>
					[% "FILELENGTH" | string %][% "COLON" | string %]
				</td>
				<td class = 'smallitemtext'>
					[% filelength %] [% "BYTES" | string %]
				</td>
			</tr>
			[% END %] [% IF itemobj.prettyBitRate %]
			<tr>
				<td class = 'smallitemtext'>
					[% "BITRATE" | string %][% "COLON" | string %]
				</td>
				<td class = 'smallitemtext'>
					[% itemobj.prettyBitRate %]
				</td>
			</tr>
			[% END %][% IF itemobj.samplerate %] 
			<tr> 
				<td class = 'smallitemtext'>[% "SAMPLERATE" | string; "COLON" | string %]</td>
				<td class = 'smallitemtext'>[% itemobj.prettySampleRate | html %] </td>
			</tr>
			[% END %] [% IF itemobj.tagversion %]
			<tr>
				<td class = 'smallitemtext'>
					[% "TAGVERSION" | string %][% "COLON" | string %]
				</td>
				<td class = 'smallitemtext'>
					[% itemobj.tagversion %]
				</td>
			</tr>
			[% END %]
		</table>
		</td>
		</tr>
	</table>
	</td>
</tr>
</table>
[%# /Page songinfo.html %]
[% PROCESS pagefooter.html %]
