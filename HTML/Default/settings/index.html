<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<title>[% "SQUEEZECENTER" | string %]</title>

		<link rel="stylesheet" type="text/css" href="/html/ext/resources/css/ext-all.css" />
		<link rel="stylesheet" type="text/css" href="[% webroot %]slim-ext.css?r=[% revision %]" />
		<link rel="stylesheet" type="text/css" href="[% webroot %]slimserver.css?r=[% revision %]" />
		<link rel="stylesheet" type="text/css" href="[% webroot %]settings.css?r=[% revision %]" />

		[%- IF debug %]
		<style>
			.x-layout-panel-body { background: white; }
			.x-btn-text, .x-btn button { color: black; }
			.x-dlg .x-tabs-bottom .x-tabs-body {
				background: white;
				color: black;
			}
		</style>
		[%- END %]

		<!--[if lte IE 6]>
		<link href="[% webroot %]ie.css?r=[% revision %]" type="text/css" rel="stylesheet">
		<![endif]-->
		<!--[if IE 7]>
		<link href="[% webroot %]ie7.css?r=[% revision %]" type="text/css" rel="stylesheet">
		<![endif]-->

		<script type="text/javascript" src="/html/ext/adapter/ext/ext-base.js?r=[% revision %]"></script>
		<script type="text/javascript" src="/html/ext/ext-all[% IF debug %]-debug[% END %].js?r=[% revision %]"></script>
		<script type="text/javascript">[% PROCESS html/vars.js %]</script>
		<script type="text/javascript" src="[% webroot %]html/settings.js?r=[% revision %]"></script>

		<script type="text/javascript">
			var strings = new Array();
			strings['basic']     = "[% "BASIC_SERVER_SETTINGS" | string %]";
			strings['player']    = "[% "PLAYER" | string %]";
			strings['mymusic']   = "[% "MY_MUSIC" | string %]";
			strings['itunes']    = "[% "ITUNES" | string %]";
			strings['podcasts']  = "[% "PLUGIN_PODCAST" | string %]";
			strings['accounts']  = "[% "SETUP_ACCOUNTS" | string %]";
			strings['interface'] = "[% "INTERFACE_SETTINGS" | string %]";
			strings['plugins']   = "[% "SETUP_GROUP_PLUGINS" | string %]";
			strings['advanced']  = "[% "ADVANCED_SETTINGS" | string %]";

			function showSettingsPage(page) {
				Ext.get('settings').dom.src = webroot + page + '?player=' + player;
			}

			Ext.EventManager.onDocumentReady(Settings.init, Settings, true);
			Ext.EventManager.onDocumentReady(function(){
				var tp = new Ext.TabPanel('settingsSelector');
				tp.addTab('t1', strings['basic']).on('activate', function(){ showSettingsPage('settings/server/basic.html'); });
				tp.addTab('t2', strings['player']).on('activate', function(){ showSettingsPage('settings/player/basic.html'); });
				tp.addTab('t3', strings['mymusic']).on('activate', function(){ showSettingsPage('settings/server/behavior.html'); });
				tp.addTab('t4', strings['itunes']).on('activate', function(){ showSettingsPage('plugins/iTunes/settings/itunes.html'); });
				tp.addTab('t5', strings['podcasts']).on('activate', function(){ showSettingsPage('plugins/Podcast/settings/basic.html'); });
				tp.addTab('t6', strings['accounts']).on('activate', function(){ showSettingsPage('settings/server/accounts.html'); });
				tp.addTab('t7', strings['interface']).on('activate', function(){ showSettingsPage('settings/server/interface.html'); });
				tp.addTab('t8', strings['plugins']).on('activate', function(){ showSettingsPage('settings/server/plugins.html'); });
				tp.addTab('t9', strings['advanced']).on('activate', function(){ showSettingsPage('settings/server/behavior.html'); });

				tp.activate('t1');
			});
		</script>
	</head>

	<body>

		<div id="mainbody">

			<div id="header">
				<div class="mainFrame">
					<div class="mainFrame_top"><div></div></div>
					<div class="mainFrame_content">
						<div class="titlebox">
							<div class="titlebox_top"><div></div></div>
							<div class="titlebox_content">
								<div class="pagetitle">
									[% "SQUEEZECENTER" | string; " - "; "SETTINGS" | string  %]
									<span id="basicAdvanced">
										<table>
											<tr>
												<td id="basic"></td>
												<td id="advanced"></td>
											</tr>
										</table>
									</span>
								</div>
							</div>
							<div class="titlebox_bottom"><div></div></div>
						</div>
						<div id="settingsSelector">
							[%# PROCESS setting_chooser.html %]
						</div>
					</div>
				</div>
			</div>

			<div id="main">
				<iframe name="settings" id="settings" frameborder="0" scrolling="no"></iframe>
			</div>

			<div id="left">
				gugus, dada
			</div>

			<div id="footer">
				<div class="mainFrame">
					<div class="mainFrame_content">
						<div class="titlebox">
							<div class="titlebox_top"><div></div></div>
							<div class="titlebox_content">
								<div class="pagetitle">
Some nifty buttons here...
								</div>
							</div>
							<div class="titlebox_bottom"><div></div></div>
						</div>
					</div>
					<div class="mainFrame_bottom"><div></div></div>
				</div>
			</div>

		</div>
	</body>
</html>