<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	[% pagetitle = "SQUEEZEBOX_MUSIC_PLAYER" | string %]
	[% IF player_name; name = player_name | html; END -%]
	[% pagetitle = pagetitle _ ' ' _ name %]
	[% PROCESS standardheader.html %]
	[% PROCESS html/common.js %]
</head>

<body onload="doLoad();">

[% BLOCK statusLink %]

	[% IF link && !linkString %]

		[% linkName = link %]

	[% ELSIF linkString && !link %]

		[% linkName = linkString | string | upper %]

	[% END %]

	<a href="[% webroot %]status_header.html?p0=[% p0 %]&amp;p1=[% p1 %]&amp;p2=[% p2 %]&amp;player=[% player | uri %]" class="[% divID %]"><span class="[% divID %]">[% linkName %]</span></a>

[% END %]

<div id="topGraphicBox">

	<div id="player_logo"><a href="http://www.slimdevices.com/" target="sdi"><img src="[% webroot %]html/images/[% playermodel %]_logo.gif" alt="[% playermodel %]" width="134" height="19"></a></div>
	[% IF player_chooser_list %]
	<div id="playerChooser">
		<form style="text-align:right; vertical-align:middle;" method="GET" action="[% webroot %]index.html" target="_top">
		<select name="player" onchange="switchPlayer(this);" class="exnowplaying">
			[% player_chooser_list %]
		</select>
		</form>
	</div>
	[% END %]
	<div id="topGraphicMenu1">
		<div class="largeAttribute">[% "MUSIC_PLAYER" | string %]</div>

		[% IF isplayer %]
		<div id="powerButtons">
			<div class="attributeBold">[% "POWER" | string | upper %]:</div>

			[% PROCESS statusLink p0 = 'power' p1 = 1 linkString = 'ON'  divID = mode == 'on'  ? 'valueSelected' : 'valueBold' %]
			<span class="bar">|</span>
			[% PROCESS statusLink p0 = 'power' p1 = 0 linkString = 'OFF' divID = mode == 'off' ? 'valueSelected' : 'valueBold' %]
		</div>
		[% END %]

		<div id="transportButtons">

			[% PROCESS statusLink p0 = 'playlist' p1 = 'jump' p2 = '%2b1' linkString = 'SKIP' divID = 'valueBold' %]
			<span class="bar">|</span>
			[% PROCESS statusLink p0 = 'play'  linkString = 'PLAY'  divID = modeplay  ? 'valueSelected' : 'valueBold' %]
			<span class="bar">|</span>
			[% PROCESS statusLink p0 = 'pause' linkString = 'PAUSE' divID = modepause ? 'valueSelected' : 'valueBold' %]
			<span class="bar">|</span>
			[% PROCESS statusLink p0 = 'stop'  linkString = 'STOP'  divID = modestop  ? 'valueSelected' : 'valueBold' %]
		</div>

		[% IF isplayer %]
		<div id="volumeButtons">

			<div class="attributeBold">[% "VOLUME" | string | upper %]:</div>

			[%- FOREACH vol = [0,10,20,30,40,50,60,70,80,90,100] %]

				[% PROCESS statusLink 
					p0         = 'mixer'
					p1         = 'volume'
					p2         = vol
					link       = loop.count
					divID      = (!loop.first && (volume > loop.prev) && (volume <= vol)) ? 'valueSelected' : 'valueBold'
					linkString = ''
				%]

			[% END %]
		</div>
		[% END %]
	</div>

	<div id="topGraphicMenu2">
		<div id="repeatButtons">

			<div class="attributeBold">[% "REPEAT" | string | upper %]:</div>

			[% repeatStrings = ['OFF', 'ONE', 'ALL'] %]

			[% FOREACH repeatType = ['repeatoff', 'repeatone', 'repeatall'] %]

				[% index = loop.index %]

				[% PROCESS statusLink 
					p0         = 'playlist'
					p1         = 'repeat'
					p2         = index
					linkString = repeatStrings.$index
					link       = ''
					divID      = $repeatType ? 'valueSelected' : 'valueBold'
				%]
				[% IF index < 2 %]<span class="bar">|</span>[% END %]

			[% END %]
		</div>

		<div id="shuffleButtons">

			<div class="attributeBold">[% "SHUFFLE" | string | upper %]:</div>

			[% shuffleStrings = ['OFF', 'SONGS', 'ALBUMS'] %]

			[% FOREACH shuffleType = ['shuffleoff', 'shuffleon', 'shufflealbum'] %]

				[% index = loop.index %]

				[% PROCESS statusLink 
					p0         = 'playlist'
					p1         = 'shuffle'
					p2         = index
					linkString = shuffleStrings.$index
					link       = ''
					divID      = $shuffleType ? 'valueSelected' : 'valueBold'
				%]
				[% IF index < 2 %]<span class="bar">|</span>[% END %]
 
			[% END %]
		</div>
	</div>

	<div id="topGraphicMenu3">
		<div id="playingStatus">
				[% IF playercount == 0 || modestop %]

					[% "STOPPED" | string | upper %]

				[% ELSIF modeplay || modepause %]

					[% "NOW_PLAYING" | string | upper %]

				[% END %]
		</div>

		<div id="playingSong">
			[% IF player_needs_upgrade %]

				[% "PLAYER_NEEDS_UPGRADE" | string %]

			[% ELSE %]

				[% IF playercount == 0 %]

					[% "NO_PLAYER_FOUND" | string %]

				[% ELSE %]

					[% IF songcount == 0; "NOTHING" | string; END %]

				[% END %]

			[% END %]

			<a [% songinfoHRef %] target="browser">[% songtitle %]</a>
		</div>

		<div id="statusSong">

			[% IF includeAlbum && itemobj.album.title && itemobj.album.title != noAlbum %]

				<span class="exnotactivenowplaying">[% "FROM" | string %] </span>

				<span class="exnowplaying"><a [% albumHRef %] target="browser">[% itemobj.album.title | html %]</a></span>

			[% END %]

			[% IF includeArtist && itemobj.artist && itemobj.artist != noArtist %]
				<span class="exnowplaying">[% PROCESS artistsAsHTML.html %]</span>
			[% END %]

		</div>

		[% IF songcount %]
			<div id="statusSongRemoveButton">

			[% title = 'REMOVE_FROM_PLAYLIST' | string %]

			[% PROCESS statusLink
				p0         = 'playlist'
				p1         = 'delete'
				p2         = thissongnum
				linkString = ''
				link       = "<img src=\"html/images/b_delete_white.gif\" width=\"13\" height=\"13\" alt=\"$title\" title=\"$title\">"
				divID      = mode == 'off' ? 'valueSelected' : 'valueBold'
			%]

			</div>

		[% END %]

	</div>
</div>

</body>
</html>
