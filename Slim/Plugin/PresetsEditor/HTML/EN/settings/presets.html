[% PROCESS settings/header.html %]
	[% WRAPPER setting title="PLUGIN_PRESETS_EDITOR" desc="PLUGIN_PRESETS_EDITOR_DESC" %]
		[% FOREACH preset = presets %]
			<div>
				[% loop.count %].
				<input type="text" name="preset_text_[% loop.count %]" id="preset_text_[% loop.count %]" value="[% preset.text %]" size=40></input>
				<input type="text" name="preset_url_[% loop.count %]" id="preset_url_[% loop.count %]" value="[% preset.URL %]" size=100></input>

				<select class="stdedit" style="width:40px" id="preset_pick_[% loop.count %]" onchange="javascript:pickPreset([% loop.count %], this);">
					<option style="text-align: center" value="">...</option>
					[% FOREACH playlistType IN playlistOptions %]
					<optgroup label="[% playlistType.type %]">
						[% FOREACH playlist IN playlistType.items %]
							[%  %]
							<option value="[% playlist.url %]">[% playlist.title %]</option>
						[%- END -%]
					</optgroup>
					[%- END -%]
				</select>
			</div>
		[% END %]

	[% END %]

	<script>
		var url2name = [% urlToName | utf8decode %];
		function pickPreset(preset, picker) {
			if (picker.value) {
				document.getElementById("preset_text_" + preset).value = url2name[picker.value] || "";
				document.getElementById("preset_url_" + preset).value = picker.value;
			}

			document.getElementById("preset_pick_" + preset).getElementsByTagName('option')[0].selected = 'selected'
		}
	</script>
[% PROCESS settings/footer.html %]