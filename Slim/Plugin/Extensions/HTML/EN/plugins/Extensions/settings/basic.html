[% IF useExtJS; extJsScripts = BLOCK %]
<script TYPE="text/javascript">
	Ext.onReady(function() {
		if (Ext.isIE6)
			return;
			
		var sortableTables = Ext.query('table.sortable');
		
		for (var i = 0; i < sortableTables.length; i++) {	
		    // make the table sortable by header
		    var grid = new SqueezeJS.UI.SortableTable(sortableTables[i]);
		    grid.render();
		}
	});
</script>
[% END; END %]
[% BLOCK pluginGroup %]
	<div class="settingSection" style="margin-top:0;margin-bottom:20px">
		<table class="sortable" width="100%">
			<thead><tr>
				<th width="5%">&nbsp;</th>
				<th width="15%">[% "NAME" | string %]</th>
				<th width="10%">[% "INFORMATION_VERSION" | string %][% "COLON" | string %]</th>
				<th width="45%">[% "DESCRIPTION" | string %][% "COLON" | string %]</th>
				<th width="15%">[% "PLUGIN_EXTENSIONS_AUTHOR" | string %]</th>
				<th width="10%">&nbsp;</th>
			</tr></thead>
			<tbody>
			[% content %]
			</tbody>
		</table>
	</div>
[% END %]
[% BLOCK pluginDetails %]
	<tr>
		<td><input name="[% plugin.action || "install" %]" [% plugin.action == 'disabled' ? "disabled=disabled checked=checked" : "" %] value="[% plugin.name %]:[% IF plugin.action == 'remove' %][% plugin.current %]:[% plugin.title %][% ELSE %][% plugin.version %][% END %]" type="checkbox" />&nbsp;</td>
		<td>[% plugin.title %]&nbsp;</td>
		<td>[% plugin.delta || plugin.version || plugin.current %]&nbsp;</td>
		<td>[% (plugin.changes|| plugin.message || plugin.desc || plugin.title) | html_line_break %]&nbsp;</td>
		<td>
			<span style="display:none">[% plugin.creator || plugin.email %]&nbsp;</span>
			[% IF plugin.email %]<a href="mailto:[% plugin.email %]">[%- END -%][% plugin.creator || plugin.email %][% IF plugin.email %]</a>[%- END -%]&nbsp;
		</td>
		<td>[% IF plugin.link %]<a href="[% plugin.link %]" target="plugin_desc">[% "MOREINFO" | string %]</a>[%- END -%]&nbsp;</td>
	</tr>
[% END %]
[% PROCESS settings/header.html %]

	[% WRAPPER setting title="PLUGIN_EXTENSIONS" desc=(repos.size > 1 ? "PLUGIN_EXTENSIONS_DESC" : "") %]
		<div>[% IF repos.size <= 1; "PLUGIN_EXTENSIONS_DESC" | string; END %]</div>
	[% END %]

	[% WRAPPER setting title="PLUGIN_EXTENSIONS_REPOS" desc="PLUGIN_EXTENSIONS_REPOS_DESC" %]
		<div>[% "PLUGIN_EXTENSIONS_REPOS_WARNING" | string %]</div>

		<div>
		[% FOREACH entry = repos %]
			<br/><input type="text" class="stdedit" name="repos" id="repos" value="[% entry %]" size="60" />
		[% END %]
		</div>
	[% END %]

	[% IF upgrade.size %]
		[% WRAPPER setting title="PLUGIN_EXTENSIONS_PLUGINS_UPGRADE" desc="" %]
		[%- END -%]

		[% WRAPPER pluginGroup %]
			[% FOREACH plugin = upgrade %]
				[% plugin.delta = BLOCK %][% plugin.current %] [% "TO" | string %] [% plugin.version %][% END %]
				[% PROCESS pluginDetails %]
			[% END %]
		[%- END -%]
	[%- END -%]

	[% IF remove.size %]

		[% WRAPPER setting title="PLUGIN_EXTENSIONS_PLUGINS_REMOVE" desc="" %]
		[%- END -%]

		[% WRAPPER pluginGroup %]
			[% FOREACH plugin = remove %]
				[% plugin.action = 'remove' %]
				[% PROCESS pluginDetails %]
			[% END %]
		[%- END -%]

	[%- END -%]

	[% IF install.logitech.items.size %]

		[% WRAPPER setting title=install.logitech.title desc="" %]
		[%- END -%]

		[% WRAPPER pluginGroup %]
			[% FOREACH plugin = install.logitech.items %]
				[% plugin.changes = '' %]
				[% PROCESS pluginDetails %]
			[% END %]
		[%- END -%]

	[%- END -%]

	[% IF install.keys.size > 0 %]
		
		[% FOREACH repo = install.keys %]

			[% NEXT IF repo == 'logitech' %]

			[% WRAPPER setting title=install.item(repo).title desc="" %]
			[%- END -%]
	
			[% WRAPPER pluginGroup %]
				[% FOREACH plugin = install.item(repo).items %]
					[% plugin.changes = '' %]
					[% PROCESS pluginDetails %]
				[% END %]
			[%- END -%]
		
		[% END %]

	[%- END -%]

	[% IF manual.values.size %]

		[% WRAPPER setting title="PLUGIN_EXTENSIONS_PLUGIN_MANUAL" desc="" %]
		[%- END -%]

		[% WRAPPER pluginGroup %]
			[% FOREACH plugin = manual.values %]
				[% plugin.action = 'disabled' %]
				[% PROCESS pluginDetails %]
			[% END %]
		[%- END -%]

	[%- END -%]

	<input name="rand" type="hidden" value="[% rand %]" />

[% PROCESS settings/footer.html %]
